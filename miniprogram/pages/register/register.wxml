<page-meta>
  <navigation-bar title="患者注册" back="{{true}}" color="black" background="#FFF"></navigation-bar>
</page-meta>
<scroll-view class="register-container" scroll-y>
  <view class="form-container">
    <view class="title">
      <text class="title-text">新患者注册</text>
    </view>
    
    <view class="form-group">
      <text class="label">姓氏</text>
      <input class="input" placeholder="请输入姓氏" value="{{lastName}}" bindinput="onLastNameInput" />
    </view>
    
    <view class="form-group">
      <text class="label">名字</text>
      <input class="input" placeholder="请输入名字" value="{{firstName}}" bindinput="onFirstNameInput" />
    </view>
    
    <view class="form-group">
      <text class="label">用户名</text>
      <input class="input" placeholder="请输入用户名" value="{{username}}" bindinput="onUsernameInput" />
    </view>
    
    <view class="form-group">
      <text class="label">密码</text>
      <input class="input" type="password" placeholder="请输入密码" value="{{password}}" bindinput="onPasswordInput" />
    </view>
    
    <view class="form-group">
      <text class="label">确认密码</text>
      <input class="input" type="password" placeholder="请确认密码" value="{{confirmPassword}}" bindinput="onConfirmPasswordInput" />
    </view>
    
    <view class="form-group">
      <text class="label">手机号</text>
      <input class="input" type="number" placeholder="请输入手机号" value="{{mobile}}" bindinput="onMobileInput" />
    </view>
    
    <view class="form-group">
      <text class="label">地址</text>
      <textarea class="textarea" placeholder="请输入详细地址" value="{{address}}" bindinput="onAddressInput"></textarea>
    </view>
    
    <view class="form-group">
      <text class="label">症状描述</text>
      <textarea class="textarea" placeholder="请描述您的症状" value="{{symptoms}}" bindinput="onSymptomsInput"></textarea>
    </view>
    
    <view class="form-group">
      <text class="label">选择医生</text>
      <picker bindchange="onDoctorChange" value="{{doctorIndex}}" range="{{doctors}}" range-key="doctor_name">
        <view class="picker">
          {{doctorIndex >= 0 ? doctors[doctorIndex].doctor_name : '请选择医生'}}
        </view>
      </picker>
    </view>
    
    <button class="register-btn" bindtap="onRegister" disabled="{{!canRegister}}">注册</button>
    
    <view class="login-link">
      <text bindtap="goToLogin">已有账号？点击登录</text>
    </view>
  </view>
</scroll-view>